:math:
:imagesdir: ./images

= Tutorial 08: Texturen mit QOpenGLTexture

In diesem Tutorial geht es um Texturen, und die Qt-Klassen `QOpenGLTexture`.

.Tutorial_08, Texturen
image::Tutorial_08_Textures.png[Tutorial_08,pdfwidth=8cm]

[NOTE]
====
Quelltext für dieses Tutorial liegt im github repo:  https://github.com/ghorwin/OpenGLWithQt-Tutorial/tree/master/code/Tutorial_08[Tutorial_08]
====

Die Verwendung von Texturen ist eigentlich nicht besonders schwierig und wird auch im Qt Beispiel _Cube OpenGL ES 2.0 example_  und diversen Tutorials im Internet gut erklärt.

Aber es gibt da ein paar Dinge, die nicht ganz so trivial sind:

- korrekte Initialisierungsreihenfolge bei Texturen
- Speicheraufräumen von Texturen
- Verwendung mehrerer Texturen im Fragment Shader und Verwendung eines `glDrawXXX`-Aufrufs für viele Flächen unterschiedlicher Texturen



Natives OpenGL:

[source,c]
----

// Wrap style
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_MIRRORED_REPEAT);
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_MIRRORED_REPEAT);

// Border color in case of GL_CLAMP_TO_BORDER
float borderColor[] = { 1.0f, 1.0f, 0.0f, 1.0f };
glTexParameterfv(GL_TEXTURE_2D, GL_TEXTURE_BORDER_COLOR, borderColor); 

// Texture Filtering
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);
glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);

----


[CAUTION]
====
`texture2D` im Fragmentshader nicht mehr benutzen (deprecated).
====


Initialisierung:

----
texture->setData(img);
texture->allocate(); --> 

+++ [APISource:ErrorType] GL_INVALID_OPERATION error generated. Texture is immutable.
----
